!function(e){var t={};function a(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);a(1);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}var o=function(){function e(t,a,s){i(this,e),this.rangeinput=h(t),this.valueBubble=h(a),this.leftfill=s,this.value,this.events(),this.setValue()}return n(e,[{key:"events",value:function(){this.rangeinput.on("input",this.setValue.bind(this))}},{key:"setValue",value:function(){this.value=this.rangeinput.val();var e=Number(100*(this.rangeinput.val()-this.rangeinput.attr("min"))/(this.rangeinput.attr("max")-this.rangeinput.attr("min"))),t=10-.2*e;this.valueBubble.html("<span>".concat(this.value,"</span>")),this.valueBubble.css("left","calc(".concat(e,"% + (").concat(t,"px))"));var a=(this.rangeinput.val()-this.rangeinput.attr("min"))/(this.rangeinput.attr("max")-this.rangeinput.attr("min"))*100;this.rangeinput.css("background","linear-gradient(to right, ".concat(this.leftfill," 0%, ").concat(this.leftfill," ").concat(a,"%, #fff ").concat(a,"%, white 100%)"))}}]),e}(),r=function(){function e(){i(this,e),this.checkboxes=h(".roi-checklist__checkbox"),this.checklistWrapper=h("#roi-checklist-wrapper"),this.rangewrappers=h(".checklist-rangewrapper"),this.events()}return n(e,[{key:"events",value:function(){for(var e=this,t=function(t){h(e.checkboxes[t]).change((function(){h(e.checkboxes[t]).is(":checked")?(h(e.rangewrappers[t]).slideDown(),h(e.checklistWrapper).hasClass("roi-invalid")&&h(e.checklistWrapper).removeClass("roi-invalid")):h(e.rangewrappers[t]).slideUp()}))},a=0;a<this.checkboxes.length;a++)t(a)}}]),e}(),l=function(){function e(t,a,s,n){i(this,e),this.firstname=h("#roi-input__firstname")[0],this.lastname=h("#roi-input__lastname")[0],this.email=h("#roi-input__email")[0],this.phone=h("#roi-input__phone")[0],this.yearTabs=h(".tabs__link"),this.moneySavedSpan=h("#roi-money-saved")[0],this.hoursSavedSpan=h("#roi-hours-saved")[0],this.coulddoCostSpans=h(".could-do__cost"),this.roiResult=h("#roi-results"),this.resultHeading=h("#roi-result-heading")[0],this.checkboxes=t,this.moneyRange=a,this.amountRanges=s,this.timeRanges=n,this.calculateButton=h("#roi-submit-button"),this.checklistWrapper=h("#roi-checklist-wrapper"),this.sendNotificationEmailAdresses=h("#roi-calculation-form").data("notification"),this.minuteSalary=0,this.hourSalary=0,this.oneYearMinutesSaved=0,this.threeYearMinutesSaved=0,this.fiveYearMinutesSaved=0,this.oneYearMoneySaved=0,this.threeYearMoneySaved=0,this.threeYearMoneySaved=0,this.oneYearHoursDisplay=0,this.threeYearHoursDisplay=0,this.fiveYearHoursDisplay=0,this.oneYearMoneyDisplay=0,this.threeYearMoneyDisplay=0,this.fiveYearMoneyDisplay=0,this.oneYearHoursDisplay=0,this.threeYearHoursDisplay=0,this.fiveYearHoursDisplay=0,this.events()}return n(e,[{key:"events",value:function(){h(this.phone).on("keydown",this.isInputNumber),this.calculateButton.on("click",this.validateForm.bind(this));for(var e=0;e<this.yearTabs.length;e++)h(this.yearTabs[e]).on("click",this.changeResultTab.bind(this))}},{key:"isInputNumber",value:function(e){var t=String.fromCharCode(e.which);(e.which<96||e.keyCode>105)&&(/[0-9]/.test(t)||8===e.which||189===e.which||37===e.which||39===e.which||46===e.which||e.preventDefault())}},{key:"validateForm",value:function(e){e.preventDefault();for(var t=h(".roi-invalid"),a=0;a<t.length;a++)h(t[a]).removeClass("roi-invalid");this.validChecklist()&&this.validOnlyLetters()&&this.validOnlyLetters()&&this.validEmail()&&this.validPhone()&&(this.calculate(e),h(this.calculateButton).html(h(this.calculateButton).data("loading")))}},{key:"validChecklist",value:function(){var e=!0,t=!1,a=void 0;try{for(var i,s=this.checkboxes[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){if(i.value.checked)return!0}}catch(e){t=!0,a=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}return h(this.checklistWrapper).addClass("roi-invalid"),!1}},{key:"validOnlyLetters",value:function(){return""==this.firstname.value?(this.firstname.focus(),h(this.firstname).addClass("roi-invalid"),!1):""==this.lastname.value?(this.lastname.focus(),h(this.lastname).addClass("roi-invalid"),!1):/^[-\sa-zA-ZåäöÅÄÖ]+$/.test(this.firstname.value)?!!/^[-\sa-zA-ZåäöÅÄÖ]+$/.test(this.lastname.value)||(this.lastname.focus(),h(this.lastname).addClass("roi-invalid"),!1):(this.firstname.focus(),h(this.firstname).addClass("roi-invalid"),!1)}},{key:"validEmail",value:function(){return""==this.email.value?(this.email.focus(),h(this.email).addClass("roi-invalid"),!1):!!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.email.value)||(this.email.focus(),h(this.email).addClass("roi-invalid"),!1)}},{key:"validPhone",value:function(){return""==this.phone.value?(this.phone.focus(),h(this.phone).addClass("roi-invalid"),!1):!(this.phone.value.length<6)||(this.phone.focus(),h(this.phone).addClass("roi-invalid"),!1)}},{key:"firstLetterCapitol",value:function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}},{key:"calculate",value:function(e){var t;this.oneYearMinutesSaved=0,this.threeYearMinutesSaved=0,this.fiveYearMinutesSaved=0,this.oneYearMoneySaved=0,this.threeYearMoneySaved=0,this.fiveYearMoneySaved=0,this.oneYearMoneyDisplay=0,this.threeYearMoneyDisplay=0,this.threeYearMoneyDisplay=0,this.oneYearHoursDisplay=0,this.threeYearHoursDisplay=0,this.fiveYearHoursDisplay=0,0==this.minuteSalary&&(this.minuteSalary=this.moneyRange.value/60,this.hourSalary=this.moneyRange.value);for(var a=0;a<this.checkboxes.length;a++)if(this.checkboxes[a].checked){var i=h(this.checkboxes[a]).data("save")/100;t="hours"==h(this.timeRanges[a].rangeinput).data("timeformat")?60*Number(this.timeRanges[a].value):Number(this.timeRanges[a].value),this.oneYearMinutesSaved+=Math.floor(t*Number(this.amountRanges[a].value)*12*i),this.threeYearMinutesSaved+=Math.floor(t*Number(this.amountRanges[a].value)*36*i),this.fiveYearMinutesSaved+=Math.floor(t*Number(this.amountRanges[a].value)*60*i),this.oneYearMoneySaved+=Math.floor(t*Number(this.amountRanges[a].value)*12*i*this.minuteSalary),this.threeYearMoneySaved+=Math.floor(t*Number(this.amountRanges[a].value)*36*i*this.minuteSalary),this.fiveYearMoneySaved+=Math.floor(t*Number(this.amountRanges[a].value)*60*i*this.minuteSalary)}this.oneYearHoursDisplay+=Math.round(this.oneYearMinutesSaved/60),this.threeYearHoursDisplay+=Math.round(this.threeYearMinutesSaved/60),this.fiveYearHoursDisplay+=Math.round(this.fiveYearMinutesSaved/60),this.oneYearMoneyDisplay=Math.round(this.oneYearHoursDisplay*this.hourSalary),this.threeYearMoneyDisplay=Math.round(this.threeYearHoursDisplay*this.hourSalary),this.fiveYearMoneyDisplay=Math.round(this.fiveYearHoursDisplay*this.hourSalary),this.displayMoneySaved(1),this.displayTimeSaved(1),this.displayCouldDo(1),this.insertData(e)}},{key:"sendNotificationEmail",value:function(){if(this.sendNotificationEmailAdresses&&""!==this.sendNotificationEmailAdresses){for(var e=this.sendNotificationEmailAdresses.replace(/\s+/g,"").split(","),t=0;t<e.length;t++)if(!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e[t]))return console.log("Falsy email-adresses for notification."),!1;var a=this.firstLetterCapitol(this.firstname.value),i=this.firstLetterCapitol(this.lastname.value),s=this.email.value.toLowerCase(),n=this.phone.value,o=e.join(","),r="The ROI Calculation-form was just submitted by:\n\n        ".concat(a," ").concat(i,"\n        ").concat(s,"\n        ").concat(n,"\n\n        \n        This is an automatically sent notification to inform you that your ROI Calculator-form has been submitted.\n\n        <i>If you wish to change the email-adress or add more email-adresses to recieve these notification please go to the Elementor settings-screen of this widget.</i>\n        ").replace(/\r\n|\r|\n/g,"<br>");h.ajax({url:roi_ajax_script.ajaxurl,type:"post",data:{action:"send_notification_mail",send:"yes",to:o,subject:"ROI Calculation-form submitted",message:r}}).done((function(){})).fail((function(e){console.log(e)}))}}},{key:"insertData",value:function(e){var t={firstname:this.firstLetterCapitol(this.firstname.value),lastname:this.firstLetterCapitol(this.lastname.value),email:this.email.value.toLowerCase(),phone:this.phone.value},a=this;h.ajax({url:roi_ajax_script.ajaxurl,type:"post",data:{action:"insert_user_data",nonce:h(e.target).data("nonce"),formdata:t}}).done((function(e){h(a.roiResult).removeClass("hidden"),setTimeout((function(){h(a.calculateButton).html(h(a.calculateButton).data("default")),h("html, body").animate({scrollTop:h(a.resultHeading).offset().top-50},1e3)}),600),a.sendNotificationEmail()})).fail((function(e){h(a.calculateButton).html(h(a.calculateButton).data("default")),console.log(e)}))}},{key:"changeResultTab",value:function(e){var t=this;if(!("li"!==e.target.localName&&h(e.target).parent().hasClass("tabs__link--active")||"li"==e.target.localName&&h(e.target).hasClass("tabs__link--active"))){for(var a=function(e){h(t.yearTabs[e]).hasClass("tabs__link--active")&&setTimeout((function(){h(t.yearTabs[e]).removeClass("tabs__link--active"),h(t.yearTabs[e]).addClass("tabs__link--inactive")}),100)},i=0;i<this.yearTabs.length;i++)a(i);"li"!==e.target.localName?(h(e.target).parent().removeClass("tabs__link--inactive"),h(e.target).parent().addClass("tabs__link--active")):(h(e.target).removeClass("tabs__link--inactive"),h(e.target).addClass("tabs__link--active")),"li"!==e.target.localName?"12"==h(e.target).parent().data("time")?(this.displayMoneySaved(1),this.displayTimeSaved(1),this.displayCouldDo(1)):"36"==h(e.target).parent().data("time")?(this.displayMoneySaved(3),this.displayTimeSaved(3),this.displayCouldDo(3)):"60"==h(e.target).parent().data("time")&&(this.displayMoneySaved(5),this.displayTimeSaved(5),this.displayCouldDo(5)):"12"==h(e.target).data("time")?(this.displayMoneySaved(1),this.displayTimeSaved(1),this.displayCouldDo(1)):"36"==h(e.target).data("time")?(this.displayMoneySaved(3),this.displayTimeSaved(3),this.displayCouldDo(3)):"60"==h(e.target).data("time")&&(this.displayMoneySaved(5),this.displayTimeSaved(5),this.displayCouldDo(5))}}},{key:"displayMoneySaved",value:function(e){var t;1==e&&(this.oneYearMoneyDisplay>=1e6?"0"==(t="".concat(Number((this.oneYearMoneyDisplay/1e6).toFixed(1)),"M"))[t.length-1]&&(t="".concat((this.oneYearMoneyDisplay/1e6).toFixed(0),"M")):this.oneYearMoneyDisplay>=1e3?"0"==(t="".concat(Number((this.oneYearMoneyDisplay/1e3).toFixed(1)),"k"))[t.length-1]&&(t="".concat((this.oneYearMoneyDisplay/1e3).toFixed(0),"k")):t=this.oneYearMoneyDisplay,h(this.moneySavedSpan).html(t)),3==e&&(this.threeYearMoneyDisplay>=1e6?"0"==(t="".concat(Number((this.threeYearMoneyDisplay/1e6).toFixed(1)),"M"))[t.length-1]&&(t="".concat((this.threeYearMoneyDisplay/1e6).toFixed(0),"M")):this.threeYearMoneyDisplay>=1e3?"0"==(t="".concat(Number((this.threeYearMoneyDisplay/1e3).toFixed(1)),"k"))[t.length-1]&&(t="".concat((this.threeYearMoneyDisplay/1e3).toFixed(0),"k")):t=this.threeYearMoneyDisplay,h(this.moneySavedSpan).html(t)),5==e&&(this.fiveYearMoneyDisplay>=1e6?"0"==(t="".concat(Number((this.fiveYearMoneyDisplay/1e6).toFixed(1)),"M"))[t.length-1]&&(t="".concat((this.fiveYearMoneyDisplay/1e6).toFixed(0),"M")):this.fiveYearMoneyDisplay>=1e3?"0"==(t="".concat(Number((this.fiveYearMoneyDisplay/1e3).toFixed(1)),"k"))[t.length-1]&&(t="".concat((this.fiveYearMoneyDisplay/1e3).toFixed(0),"k")):t=this.fiveYearMoneyDisplay,h(this.moneySavedSpan).html(t))}},{key:"displayTimeSaved",value:function(e){var t;1==e&&(t=this.oneYearHoursDisplay,h(this.hoursSavedSpan).html(t)),3==e&&(t=this.threeYearHoursDisplay,h(this.hoursSavedSpan).html(t)),5==e&&(t=this.fiveYearHoursDisplay,h(this.hoursSavedSpan).html(t))}},{key:"displayCouldDo",value:function(e){var t;if(1==e)for(var a=0;a<this.coulddoCostSpans.length;a++)t=void 0!==h(this.coulddoCostSpans[a]).data("cost")?Math.round(this.oneYearMoneySaved/Number(h(this.coulddoCostSpans[a]).data("cost"))):Math.round(this.oneYearMinutesSaved/Number(h(this.coulddoCostSpans[a]).data("time"))),h(this.coulddoCostSpans[a]).html(t);else if(3==e)for(var i=0;i<this.coulddoCostSpans.length;i++)t=void 0!==h(this.coulddoCostSpans[i]).data("cost")?Math.round(this.threeYearMoneySaved/Number(h(this.coulddoCostSpans[i]).data("cost"))):Math.round(this.threeYearMinutesSaved/Number(h(this.coulddoCostSpans[i]).data("time"))),h(this.coulddoCostSpans[i]).html(t);else if(5==e)for(var s=0;s<this.coulddoCostSpans.length;s++)t=void 0!==h(this.coulddoCostSpans[s]).data("cost")?Math.round(this.fiveYearMoneySaved/Number(h(this.coulddoCostSpans[s]).data("cost"))):Math.round(this.fiveYearMinutesSaved/Number(h(this.coulddoCostSpans[s]).data("time"))),h(this.coulddoCostSpans[s]).html(t)}}]),e}(),h=jQuery;h((function(){for(var e=new r,t=h("#money-range"),a=new o("#money-range","#money-range__value",h(t).data("fill")),i=h(".checklist-range-value__amount"),s=h(".checklist-range__amount"),n=h(".checklist-range-value__time"),u=h(".checklist-range__time"),c=[],d=[],v=0;v<i.length;v++)c.push(new o("#".concat(u[v].id),"#".concat(n[v].id),h(u[v]).data("fill"))),d.push(new o("#".concat(s[v].id),"#".concat(i[v].id),h(s[v]).data("fill")));new l(e.checkboxes,a,d,c)}))},function(e,t,a){}]);